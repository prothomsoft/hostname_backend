{"version":3,"sources":["shared/hooks/auth-hook.js","shared/components/UIElements/ErrorModal.js","shared/hooks/http-hook.js","user/components/UsersTable.js","user/pages/Users.js","shared/util/validators.js","shared/components/FormElements/Input.js","shared/hooks/form-hook.js","shared/context/auth-context.js","user/components/LoginComponent.js","user/pages/Login.js","images/components/ImageGallery.js","user/pages/Welcome.js","images/pages/UserImages.js","user/pages/Signup.js","shared/components/FormElements/ImageUpload.js","upload_images/pages/UploadImage.js","shared/components/UIElements/Navigation.js","shared/components/UIElements/Logout.js","App.js","index.js"],"names":["logoutTimer","ErrorModal","props","Dialog","open","error","onClose","onClear","DialogTitle","id","DialogContent","DialogContentText","DialogActions","Button","onClick","color","axios","require","useHttpClient","useState","isLoading","setIsLoading","setError","sendRequest","useCallback","path","a","data","method","headers","Accept","timeout","host","process","options","url","response","status","Error","statusText","message","clearError","useStyles1","makeStyles","theme","root","flexShrink","marginLeft","spacing","TablePaginationActions","classes","useTheme","count","page","rowsPerPage","onChangePage","className","IconButton","event","disabled","aria-label","direction","Math","ceil","max","useStyles2","table","minWidth","UsersTable","React","setPage","setRowsPerPage","items","onDelete","onHide","rows","map","user","push","key","name","logCounter","welcomeURL","login","creationDate","moment","isWelcome","isSesjaNarzeczenska","isSlub","isSesjaSlubna","isSesjaOkolicznosciowa","isHidden","sort","b","emptyRows","min","length","confirmDeleteHandler","userId","confirmHideHandler","Fragment","TableContainer","component","Paper","Table","TableHead","TableRow","TableCell","align","TableBody","slice","row","format","Link","NavLink","to","style","height","colSpan","TableFooter","TablePagination","rowsPerPageOptions","label","value","SelectProps","inputProps","native","newPage","onChangeRowsPerPage","parseInt","target","ActionsComponent","Users","loadedUsers","setLoadedUsers","useEffect","responseData","users","getUsers","container","padding","backdrop","zIndex","drawer","useStyles","Backdrop","CircularProgress","Container","maxWidth","deletedUserId","prevUsers","filter","hiddenUserId","validate","validators","isValid","validator","type","trim","val","test","inputReducer","state","action","isTouched","Input","useReducer","initialValue","initialValid","inputState","dispatch","onInput","changeHandler","touchHandler","element","TextField","variant","margin","fullWidth","required","placeholder","onChange","onBlur","helperText","errorText","MenuItem","item","Select","formReducer","formIsValid","inputId","inputs","useForm","initialInputs","initialFormValidity","formState","inputData","formValidity","AuthContext","createContext","isLoggedIn","isAdmin","isAppBarDisplayed","token","logout","showAppBar","hideAppBar","setNavigateToFalse","LoginComponent","auth","useContext","inputHandler","loginSubmitHandler","preventDefault","paper","display","flexDirection","alignItems","background","avatar","width","input","submit","copyrightsTop","textAlign","copyrightsBottom","space","href","src","alt","Typography","onSubmit","noValidate","size","fontSize","Login","invisible","columns","containerWidth","reducer","loading","images","allPhotos","finish","after","newImages","currentImage","viewerIsOpen","allPhotosLength","index","ImageGallery","load","openLightbox","loader","useRef","current","observer","IntersectionObserver","entries","isIntersecting","threshhold","setElement","currentElement","currentObserver","observe","unobserve","ToggledStyle","right","photos","enableZoom","mainSrc","nextSrc","prevSrc","onCloseRequest","onMovePrevRequest","onMoveNextRequest","ref","Welcome","useParams","loadedImages","setLoadedImages","targetRef","getImages","image","disableBodyScroll","forwardRef","UserImages","userid","category","clearAllBodyScrollLocks","Signup","history","useHistory","isUpdateModeLoading","setUpdateModeLoading","setFormData","signupSubmitHandler","elevation","ImageUpload","files","setFiles","setIsValid","filePickerRef","FormControl","multiple","accept","pickedFiles","filesAreValid","click","UploadImage","uploadedFile","setUploadedFile","folder","uploadImageSubmitHandler","formData","FormData","append","Object","keys","set","Authorization","imgSrc","center","Navigation","drawerOpen","setDrawerOpen","handleDrawerClose","title","flexGrow","hide","appBar","backgroundColor","drawerPaper","link","drawerHeader","mixins","toolbar","justifyContent","AppBar","position","clsx","Toolbar","noWrap","edge","Drawer","anchor","List","ListItem","button","ListItemText","primary","Logout","console","log","customVars","createMuiTheme","palette","light","main","dark","contrastText","secondary","default","App","routes","setToken","setIsAppBarDisplayed","isNavigate","setIsNavigate","tokenExpirationDate","setTokenExpirationDate","setUserId","setName","setIsAdmin","setIsSlub","setIsSesjaNarzeczenska","setIsSesjaSlubna","setIsSesjaOkolicznosciowa","setWelcomeURL","expirationDate","Date","getTime","localStorage","setItem","JSON","stringify","expiration","toISOString","removeItem","remainingTime","setTimeout","clearTimeout","storedData","parse","getItem","useAuth","exact","Provider","ThemeProvider","CssBaseline","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.0128532c.chunk.js","sourcesContent":["import { useState, useCallback, useEffect } from \"react\";\r\n\r\nlet logoutTimer;\r\n\r\nexport const useAuth = () => {\r\n    const [token, setToken] = useState(false);\r\n    const [isAppBarDisplayed, setIsAppBarDisplayed] = useState(true);\r\n    const [isNavigate, setIsNavigate] = useState(false);\r\n    const [tokenExpirationDate, setTokenExpirationDate] = useState();\r\n    const [userId, setUserId] = useState(false);\r\n    const [name, setName] = useState(false);\r\n    const [isAdmin, setIsAdmin] = useState(false);\r\n    const [isSlub, setIsSlub] = useState(false);\r\n    const [isSesjaNarzeczenska, setIsSesjaNarzeczenska] = useState(false);\r\n    const [isSesjaSlubna, setIsSesjaSlubna] = useState(false);\r\n    const [isSesjaOkolicznosciowa, setIsSesjaOkolicznosciowa] = useState(false);\r\n    const [welcomeURL, setWelcomeURL] = useState(false);\r\n\r\n    const login = useCallback((userId, isAdmin, token, name, isSlub, isSesjaNarzeczenska, isSesjaSlubna, isSesjaOkolicznosciowa, welcomeURL, expirationDate) => {\r\n        setUserId(userId);\r\n        setName(name);\r\n        setIsAdmin(isAdmin);\r\n        setIsSlub(isSlub);\r\n        setIsSesjaNarzeczenska(isSesjaNarzeczenska);\r\n        setIsSesjaSlubna(isSesjaSlubna);\r\n        setIsSesjaOkolicznosciowa(isSesjaOkolicznosciowa);\r\n        setWelcomeURL(welcomeURL);\r\n        setToken(token);\r\n        const tokenExpirationDate = expirationDate || new Date(new Date().getTime() + 1000 * 60 * 60);\r\n        setTokenExpirationDate(tokenExpirationDate);\r\n        localStorage.setItem(\r\n            \"userData\",\r\n            JSON.stringify({\r\n                userId: userId,\r\n                name: name,\r\n                isAdmin: isAdmin,\r\n                isSlub: isSlub,\r\n                isSesjaNarzeczenska: isSesjaNarzeczenska,\r\n                isSesjaSlubna: isSesjaSlubna,\r\n                isSesjaOkolicznosciowa: isSesjaOkolicznosciowa,\r\n                welcomeURL: welcomeURL,\r\n                token: token,\r\n                expiration: tokenExpirationDate.toISOString()\r\n            })\r\n        );\r\n    }, []);\r\n\r\n    const hideAppBar = useCallback(() => {\r\n        setIsAppBarDisplayed(false);\r\n    }, []);\r\n\r\n    const showAppBar = useCallback(() => {\r\n        setIsAppBarDisplayed(true);\r\n    }, []);\r\n\r\n    const logout = useCallback(() => {\r\n        setIsNavigate(true);\r\n        setUserId(null);\r\n        setName(null);\r\n        setIsAdmin(null);\r\n        setIsSlub(null);\r\n        setIsSesjaNarzeczenska(null);\r\n        setIsSesjaSlubna(null);\r\n        setIsSesjaOkolicznosciowa(null);\r\n        setToken(null);\r\n        setTokenExpirationDate(null);\r\n        localStorage.removeItem(\"userData\");\r\n    }, []);\r\n\r\n    const setNavigateToFalse = useCallback(() => {\r\n        setIsNavigate(false);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        if (token && tokenExpirationDate) {\r\n            const remainingTime = tokenExpirationDate.getTime() - new Date().getTime();\r\n            logoutTimer = setTimeout(logout, remainingTime);\r\n        } else {\r\n            clearTimeout(logoutTimer);\r\n        }\r\n    }, [token, logout, tokenExpirationDate]);\r\n\r\n    useEffect(() => {\r\n        const storedData = JSON.parse(localStorage.getItem(\"userData\"));\r\n        if (storedData && storedData.token && new Date(storedData.expiration) > new Date()) {\r\n            login(\r\n                storedData.userId,\r\n                storedData.isAdmin,\r\n                storedData.token,\r\n                storedData.name,\r\n                storedData.isSlub,\r\n                storedData.isSesjaNarzeczenska,\r\n                storedData.isSesjaSlubna,\r\n                storedData.isSesjaOkolicznosciowa,\r\n                storedData.welcomeURL,\r\n                new Date(storedData.expiration)\r\n            );\r\n        }\r\n    }, [login]);\r\n\r\n    return {\r\n        token,\r\n        login,\r\n        logout,\r\n        hideAppBar,\r\n        showAppBar,\r\n        setNavigateToFalse,\r\n        userId,\r\n        name,\r\n        isAdmin,\r\n        isAppBarDisplayed,\r\n        isNavigate,\r\n        isSlub,\r\n        isSesjaNarzeczenska,\r\n        isSesjaSlubna,\r\n        isSesjaOkolicznosciowa,\r\n        welcomeURL\r\n    };\r\n};\r\n","import React from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\n\r\nconst ErrorModal = props => {\r\n    return (\r\n        <Dialog open={!!props.error} onClose={props.onClear}>\r\n            <DialogTitle id=\"alert-dialog-title\">{\"\"}</DialogTitle>\r\n            <DialogContent>\r\n                <DialogContentText id=\"alert-dialog-description\">{props.error}</DialogContentText>\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button onClick={props.onClear} color=\"primary\">\r\n                    OK\r\n                </Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n    );\r\n};\r\n\r\nexport default ErrorModal;\r\n","import { useState, useCallback } from \"react\";\r\nconst axios = require(\"axios\");\r\n\r\nexport const useHttpClient = () => {\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const [error, setError] = useState();\r\n\r\n    const sendRequest = useCallback(async (path, data = {}, method = \"POST\", headers = { Accept: \"application/json\", \"Content-Type\": \"application/json;charset=UTF-8\" }, timeout = 4000000) => {\r\n        setIsLoading(true);\r\n\r\n        let host = process.env.REACT_APP_DEVELOPMENT_HOST;\r\n        if (process.env.NODE_ENV === \"production\") {\r\n            host = process.env.REACT_APP_PRODUCTION_HOST;\r\n        }\r\n\r\n        try {\r\n            const options = {\r\n                url: host + path,\r\n                data: data,\r\n                method: method,\r\n                headers: headers,\r\n                timeout: timeout,\r\n            };\r\n            const response = await axios(options);\r\n\r\n            if (response.status !== 200) {\r\n                throw new Error(response.statusText);\r\n            }\r\n\r\n            setIsLoading(false);\r\n            return response.data;\r\n        } catch (err) {\r\n            setError(err.response.data.message);\r\n            setIsLoading(false);\r\n            throw err;\r\n        }\r\n    }, []);\r\n\r\n    const clearError = () => {\r\n        setError(null);\r\n    };\r\n\r\n    return { isLoading, error, sendRequest, clearError };\r\n};\r\n","import React from \"react\";\r\nimport PropTypes from \"prop-types\";\r\nimport moment from \"moment\";\r\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableContainer from \"@material-ui/core/TableContainer\";\r\nimport TableFooter from \"@material-ui/core/TableFooter\";\r\nimport TablePagination from \"@material-ui/core/TablePagination\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport FirstPageIcon from \"@material-ui/icons/FirstPage\";\r\nimport KeyboardArrowLeft from \"@material-ui/icons/KeyboardArrowLeft\";\r\nimport KeyboardArrowRight from \"@material-ui/icons/KeyboardArrowRight\";\r\nimport LastPageIcon from \"@material-ui/icons/LastPage\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { useHttpClient } from \"../../shared/hooks/http-hook\";\r\n\r\nconst useStyles1 = makeStyles((theme) => ({\r\n    root: {\r\n        flexShrink: 0,\r\n        marginLeft: theme.spacing(2.5),\r\n    },\r\n}));\r\n\r\nconst TablePaginationActions = (props) => {\r\n    const classes = useStyles1();\r\n    const theme = useTheme();\r\n    const { count, page, rowsPerPage, onChangePage } = props;\r\n\r\n    const handleFirstPageButtonClick = (event) => {\r\n        onChangePage(event, 0);\r\n    };\r\n\r\n    const handleBackButtonClick = (event) => {\r\n        onChangePage(event, page - 1);\r\n    };\r\n\r\n    const handleNextButtonClick = (event) => {\r\n        onChangePage(event, page + 1);\r\n    };\r\n\r\n    const handleLastPageButtonClick = (event) => {\r\n        onChangePage(event, Math.max(0, Math.ceil(count / rowsPerPage) - 1));\r\n    };\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <IconButton onClick={handleFirstPageButtonClick} disabled={page === 0} aria-label=\"first page\">\r\n                {theme.direction === \"rtl\" ? <LastPageIcon /> : <FirstPageIcon />}\r\n            </IconButton>\r\n            <IconButton onClick={handleBackButtonClick} disabled={page === 0} aria-label=\"previous page\">\r\n                {theme.direction === \"rtl\" ? <KeyboardArrowRight /> : <KeyboardArrowLeft />}\r\n            </IconButton>\r\n            <IconButton onClick={handleNextButtonClick} disabled={page >= Math.ceil(count / rowsPerPage) - 1} aria-label=\"next page\">\r\n                {theme.direction === \"rtl\" ? <KeyboardArrowLeft /> : <KeyboardArrowRight />}\r\n            </IconButton>\r\n            <IconButton onClick={handleLastPageButtonClick} disabled={page >= Math.ceil(count / rowsPerPage) - 1} aria-label=\"last page\">\r\n                {theme.direction === \"rtl\" ? <FirstPageIcon /> : <LastPageIcon />}\r\n            </IconButton>\r\n        </div>\r\n    );\r\n};\r\n\r\nTablePaginationActions.propTypes = {\r\n    count: PropTypes.number.isRequired,\r\n    onChangePage: PropTypes.func.isRequired,\r\n    page: PropTypes.number.isRequired,\r\n    rowsPerPage: PropTypes.number.isRequired,\r\n};\r\n\r\nconst useStyles2 = makeStyles({\r\n    table: {\r\n        minWidth: 500,\r\n    },\r\n});\r\n\r\nconst UsersTable = (props) => {\r\n    const classes = useStyles2();\r\n    const [page, setPage] = React.useState(0);\r\n    const [rowsPerPage, setRowsPerPage] = React.useState(10);\r\n\r\n    const { items, onDelete, onHide } = props;\r\n\r\n    const { sendRequest } = useHttpClient();\r\n\r\n    let rows = [];\r\n    items.map((user) =>\r\n        rows.push({\r\n            key: user.id,\r\n            id: user.id,\r\n            name: user.name,\r\n            logCounter: user.logCounter,\r\n            welcomeURL: user.welcomeURL,\r\n            login: user.login,\r\n            creationDate: moment(user.creationDate),\r\n            isWelcome: user.isWelcome,\r\n            isSesjaNarzeczenska: user.isSesjaNarzeczenska,\r\n            isSlub: user.isSlub,\r\n            isSesjaSlubna: user.isSesjaSlubna,\r\n            isSesjaOkolicznosciowa: user.isSesjaOkolicznosciowa,\r\n            isHidden: user.isHidden,\r\n        })\r\n    );\r\n    rows.sort((a, b) => (a.creationDate > b.creationDate ? -1 : 1));\r\n    const emptyRows = rowsPerPage - Math.min(rowsPerPage, rows.length - page * rowsPerPage);\r\n\r\n    const handleChangePage = (event, newPage) => {\r\n        setPage(newPage);\r\n    };\r\n\r\n    const handleChangeRowsPerPage = (event) => {\r\n        setRowsPerPage(parseInt(event.target.value, 10));\r\n        setPage(0);\r\n    };\r\n\r\n    if (items.length === 0) {\r\n        return (\r\n            <div className=\"center\">\r\n                <h2>No users found.</h2>\r\n            </div>\r\n        );\r\n    }\r\n\r\n    const confirmDeleteHandler = async (userId) => {\r\n        await sendRequest(`/users/${userId}`, {}, \"DELETE\");\r\n        onDelete(userId);\r\n    };\r\n\r\n    const confirmHideHandler = async (userId, status) => {\r\n        await sendRequest(`/users/hide/${userId}/${status}`, {}, \"DELETE\");\r\n        onHide(userId, status);\r\n    };\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <TableContainer component={Paper}>\r\n                <Table className={classes.table} aria-label=\"custom pagination table\">\r\n                    <TableHead>\r\n                        <TableRow>\r\n                            <TableCell align=\"center\">DATA</TableCell>\r\n                            <TableCell align=\"center\">LOGIN</TableCell>\r\n                            <TableCell align=\"center\">URL</TableCell>\r\n                            <TableCell align=\"center\">WELCOME</TableCell>\r\n                            <TableCell align=\"center\">SESJA</TableCell>\r\n                            <TableCell align=\"center\">LUB</TableCell>\r\n                            <TableCell align=\"center\">PLENER</TableCell>\r\n                            <TableCell align=\"center\">CHRZEST</TableCell>\r\n                            <TableCell align=\"center\">LOGS</TableCell>\r\n                            <TableCell align=\"center\">DISPLAYED</TableCell>\r\n                            <TableCell align=\"center\">DEL</TableCell>\r\n                        </TableRow>\r\n                    </TableHead>\r\n                    <TableBody>\r\n                        {(rowsPerPage > 0 ? rows.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage) : rows).map((row) => (\r\n                            <TableRow key={row.key}>\r\n                                <TableCell align=\"center\">{row.creationDate.format(\"YYYY-MM-DD\")}</TableCell>\r\n                                <TableCell align=\"center\">{row.login}</TableCell>\r\n                                <TableCell align=\"center\">{row.welcomeURL}</TableCell>\r\n                                <TableCell align=\"center\">\r\n                                    {row.isWelcome && (\r\n                                        <Link component={NavLink} to={`/images/${row.id}/welcome`}>\r\n                                            VIEW\r\n                                        </Link>\r\n                                    )}\r\n                                    {!row.isWelcome && (\r\n                                        <Link component={NavLink} to={`/upload/${row.id}/welcome`}>\r\n                                            ADD\r\n                                        </Link>\r\n                                    )}\r\n                                </TableCell>\r\n                                <TableCell align=\"center\">\r\n                                    {row.isSesjaNarzeczenska && (\r\n                                        <Link component={NavLink} to={`/images/${row.id}/sesja_narzeczenska`}>\r\n                                            VIEW\r\n                                        </Link>\r\n                                    )}\r\n                                    {!row.isSesjaNarzeczenska && (\r\n                                        <Link component={NavLink} to={`/upload/${row.id}/sesja_narzeczenska`}>\r\n                                            ADD\r\n                                        </Link>\r\n                                    )}\r\n                                </TableCell>\r\n                                <TableCell align=\"center\">\r\n                                    {row.isSlub && (\r\n                                        <Link component={NavLink} to={`/images/${row.id}/slub`}>\r\n                                            VIEW\r\n                                        </Link>\r\n                                    )}\r\n                                    {!row.isSlub && (\r\n                                        <Link component={NavLink} to={`/upload/${row.id}/slub`}>\r\n                                            ADD\r\n                                        </Link>\r\n                                    )}\r\n                                </TableCell>\r\n                                <TableCell align=\"center\">\r\n                                    {row.isSesjaSlubna && (\r\n                                        <Link component={NavLink} to={`/images/${row.id}/sesja_slubna`}>\r\n                                            VIEW\r\n                                        </Link>\r\n                                    )}\r\n                                    {!row.isSesjaSlubna && (\r\n                                        <Link component={NavLink} to={`/upload/${row.id}/sesja_slubna`}>\r\n                                            ADD\r\n                                        </Link>\r\n                                    )}\r\n                                </TableCell>\r\n                                <TableCell align=\"center\">\r\n                                    {row.isSesjaOkolicznosciowa && (\r\n                                        <Link component={NavLink} to={`/images/${row.id}/sesja_okolicznosciowa`}>\r\n                                            VIEW\r\n                                        </Link>\r\n                                    )}\r\n                                    {!row.isSesjaOkolicznosciowa && (\r\n                                        <Link component={NavLink} to={`/upload/${row.id}/sesja_okolicznosciowa`}>\r\n                                            ADD\r\n                                        </Link>\r\n                                    )}\r\n                                </TableCell>\r\n                                <TableCell align=\"center\">{row.logCounter}</TableCell>\r\n                                <TableCell align=\"center\">\r\n                                    {row.isHidden && (\r\n                                        <Link component={NavLink} to={\"#\"} onClick={() => confirmHideHandler(row.id, false)}>\r\n                                            NO\r\n                                        </Link>\r\n                                    )}\r\n                                    {!row.isHidden && (\r\n                                        <Link component={NavLink} to={\"#\"} onClick={() => confirmHideHandler(row.id, true)}>\r\n                                            YES\r\n                                        </Link>\r\n                                    )}\r\n                                </TableCell>\r\n                                <TableCell align=\"center\">\r\n                                    <Link component={NavLink} to={\"#\"} onClick={() => confirmDeleteHandler(row.id)}>\r\n                                        DEL\r\n                                    </Link>\r\n                                </TableCell>\r\n                            </TableRow>\r\n                        ))}\r\n                        {emptyRows > 0 && (\r\n                            <TableRow style={{ height: 53 * emptyRows }}>\r\n                                <TableCell colSpan={11} />\r\n                            </TableRow>\r\n                        )}\r\n                    </TableBody>\r\n                    <TableFooter>\r\n                        <TableRow>\r\n                            <TablePagination\r\n                                rowsPerPageOptions={[5, 10, 25, { label: \"All\", value: -1 }]}\r\n                                colSpan={11}\r\n                                count={rows.length}\r\n                                rowsPerPage={rowsPerPage}\r\n                                page={page}\r\n                                SelectProps={{\r\n                                    inputProps: { \"aria-label\": \"rows per page\" },\r\n                                    native: true,\r\n                                }}\r\n                                onChangePage={handleChangePage}\r\n                                onChangeRowsPerPage={handleChangeRowsPerPage}\r\n                                ActionsComponent={TablePaginationActions}\r\n                            />\r\n                        </TableRow>\r\n                    </TableFooter>\r\n                </Table>\r\n            </TableContainer>\r\n        </React.Fragment>\r\n    );\r\n};\r\n\r\nexport default UsersTable;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport ErrorModal from \"../../shared/components/UIElements/ErrorModal\";\r\nimport UsersTable from \"../components/UsersTable\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { useHttpClient } from \"../../shared/hooks/http-hook\";\r\nimport Backdrop from \"@material-ui/core/Backdrop\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport Container from \"@material-ui/core/Container\";\r\n\r\nconst Users = () => {\r\n    const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n    const [loadedUsers, setLoadedUsers] = useState();\r\n\r\n    useEffect(() => {\r\n        const getUsers = async () => {\r\n            try {\r\n                const responseData = await sendRequest(\"/users/\", {}, \"GET\");\r\n                setLoadedUsers(responseData.users);\r\n            } catch (err) {}\r\n        };\r\n        getUsers();\r\n    }, [sendRequest]);\r\n\r\n    const userDeletedHandler = (deletedUserId) => {\r\n        setLoadedUsers((prevUsers) => prevUsers.filter((user) => user.id !== deletedUserId));\r\n    };\r\n\r\n    const userHiddenHandler = (hiddenUserId, status) => {\r\n        setLoadedUsers((prevUsers) => prevUsers.map((user) => (user.id !== hiddenUserId ? user : { ...user, isHidden: status })));\r\n    };\r\n\r\n    const useStyles = makeStyles((theme) => ({\r\n        container: {\r\n            padding: theme.spacing(15, 0, 4, 0),\r\n        },\r\n        backdrop: {\r\n            zIndex: theme.zIndex.drawer + 1,\r\n            color: \"#fff\",\r\n        },\r\n    }));\r\n\r\n    const classes = useStyles();\r\n\r\n    if (isLoading) {\r\n        return (\r\n            <Backdrop className={classes.backdrop} open={true}>\r\n                <CircularProgress color=\"inherit\" />\r\n            </Backdrop>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <Container className={classes.container}>\r\n            <Container maxWidth=\"lg\">\r\n                <ErrorModal error={error} onClear={clearError} />\r\n                {!isLoading && loadedUsers && <UsersTable items={loadedUsers} onDelete={userDeletedHandler} onHide={userHiddenHandler} />}\r\n            </Container>\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default Users;\r\n","const VALIDATOR_TYPE_REQUIRE = \"REQUIRE\";\r\nconst VALIDATOR_TYPE_MINLENGTH = \"MINLENGTH\";\r\nconst VALIDATOR_TYPE_MAXLENGTH = \"MAXLENGTH\";\r\nconst VALIDATOR_TYPE_MIN = \"MIN\";\r\nconst VALIDATOR_TYPE_MAX = \"MAX\";\r\nconst VALIDATOR_TYPE_EMAIL = \"EMAIL\";\r\nconst VALIDATOR_TYPE_FILE = \"FILE\";\r\n\r\nexport const VALIDATOR_REQUIRE = () => ({ type: VALIDATOR_TYPE_REQUIRE });\r\nexport const VALIDATOR_FILE = () => ({ type: VALIDATOR_TYPE_FILE });\r\nexport const VALIDATOR_MINLENGTH = val => ({\r\n    type: VALIDATOR_TYPE_MINLENGTH,\r\n    val: val\r\n});\r\nexport const VALIDATOR_MAXLENGTH = val => ({\r\n    type: VALIDATOR_TYPE_MAXLENGTH,\r\n    val: val\r\n});\r\nexport const VALIDATOR_MIN = val => ({ type: VALIDATOR_TYPE_MIN, val: val });\r\nexport const VALIDATOR_MAX = val => ({ type: VALIDATOR_TYPE_MAX, val: val });\r\nexport const VALIDATOR_EMAIL = () => ({ type: VALIDATOR_TYPE_EMAIL });\r\n\r\nexport const validate = (value, validators) => {\r\n    let isValid = true;\r\n    for (const validator of validators) {\r\n        if (validator.type === VALIDATOR_TYPE_REQUIRE) {\r\n            isValid = isValid && value.trim().length > 0;\r\n        }\r\n        if (validator.type === VALIDATOR_TYPE_MINLENGTH) {\r\n            isValid = isValid && value.trim().length >= validator.val;\r\n        }\r\n        if (validator.type === VALIDATOR_TYPE_MAXLENGTH) {\r\n            isValid = isValid && value.trim().length <= validator.val;\r\n        }\r\n        if (validator.type === VALIDATOR_TYPE_MIN) {\r\n            isValid = isValid && +value >= validator.val;\r\n        }\r\n        if (validator.type === VALIDATOR_TYPE_MAX) {\r\n            isValid = isValid && +value <= validator.val;\r\n        }\r\n        if (validator.type === VALIDATOR_TYPE_EMAIL) {\r\n            isValid = isValid && /^\\S+@\\S+\\.\\S+$/.test(value);\r\n        }\r\n    }\r\n    return isValid;\r\n};\r\n","import React, { useReducer, useEffect } from \"react\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport { validate } from \"../../util/validators\";\r\n\r\nconst inputReducer = (state, action) => {\r\n    switch (action.type) {\r\n        case \"CHANGE\":\r\n            return {\r\n                ...state,\r\n                value: action.val,\r\n                isValid: validate(action.val, action.validators)\r\n            };\r\n        case \"TOUCH\": {\r\n            return {\r\n                ...state,\r\n                isTouched: true\r\n            };\r\n        }\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nconst Input = props => {\r\n    const [inputState, dispatch] = useReducer(inputReducer, {\r\n        value: props.initialValue || \"\",\r\n        isTouched: false,\r\n        isValid: props.initialValid || false\r\n    });\r\n\r\n    const { id, onInput } = props;\r\n    const { value, isValid } = inputState;\r\n\r\n    useEffect(() => {\r\n        onInput(id, value, isValid);\r\n    }, [id, value, isValid, onInput]);\r\n\r\n    const changeHandler = event => {\r\n        dispatch({\r\n            type: \"CHANGE\",\r\n            val: event.target.value,\r\n            validators: props.validators\r\n        });\r\n    };\r\n\r\n    const touchHandler = () => {\r\n        dispatch({\r\n            type: \"TOUCH\"\r\n        });\r\n    };\r\n\r\n    let element = \"\";\r\n    if (props.element === \"input\") {\r\n        element = (\r\n            <TextField\r\n                error={!inputState.isValid && inputState.isTouched}\r\n                id={props.id}\r\n                type={props.type}\r\n                label={props.label}\r\n                variant={props.variant}\r\n                margin={props.margin}\r\n                fullWidth={props.fullWidth}\r\n                required={props.required}\r\n                color={props.color}\r\n                className={props.className}\r\n                placeholder={props.placeholder}\r\n                onChange={changeHandler}\r\n                onBlur={touchHandler}\r\n                value={inputState.value}\r\n                helperText={!inputState.isValid && inputState.isTouched && props.errorText}\r\n            />\r\n        );\r\n    } else if (props.element === \"select\") {\r\n        let options = [];\r\n        options.push(\r\n            <MenuItem key=\"1\" value=\"\">\r\n                Please select...\r\n            </MenuItem>\r\n        );\r\n        props.data.map(item => {\r\n            return options.push(\r\n                <MenuItem key={item.id} value={item.id}>\r\n                    {item.name}\r\n                </MenuItem>\r\n            );\r\n        });\r\n        element = (\r\n            <Select\r\n                id={props.id}\r\n                variant={props.variant}\r\n                margin={props.margin}\r\n                fullWidth={props.fullWidth}\r\n                required={props.required}\r\n                color={props.color}\r\n                className={props.className}\r\n                value={inputState.value}\r\n                onChange={changeHandler}\r\n                onBlur={touchHandler}\r\n            >\r\n                {options}\r\n            </Select>\r\n        );\r\n    } else {\r\n        element = <textarea id={props.id} rows={props.rows || 3} onChange={changeHandler} onBlur={touchHandler} value={inputState.value} />;\r\n    }\r\n\r\n    return <React.Fragment>{element}</React.Fragment>;\r\n};\r\n\r\nexport default Input;\r\n","import { useCallback, useReducer } from \"react\";\r\n\r\nconst formReducer = (state, action) => {\r\n    switch (action.type) {\r\n        case \"INPUT_CHANGE\":\r\n            let formIsValid = true;\r\n            for (const inputId in state.inputs) {\r\n                // if the value is undefined then skip the field\r\n                if (!state.inputs[inputId]) {\r\n                    continue;\r\n                }\r\n                if (inputId === action.inputId) {\r\n                    formIsValid = formIsValid && action.isValid;\r\n                } else {\r\n                    formIsValid = formIsValid && state.inputs[inputId].isValid;\r\n                }\r\n            }\r\n            return {\r\n                ...state,\r\n                inputs: {\r\n                    ...state.inputs,\r\n                    [action.inputId]: { value: action.value, isValid: action.isValid }\r\n                },\r\n                isValid: formIsValid\r\n            };\r\n        case \"SET_DATA\":\r\n            return {\r\n                inputs: action.inputs,\r\n                isValid: action.formIsValid\r\n            };\r\n        default:\r\n            return state;\r\n    }\r\n};\r\n\r\nexport const useForm = (initialInputs, initialFormValidity) => {\r\n    const [formState, dispatch] = useReducer(formReducer, {\r\n        inputs: initialInputs,\r\n        isValid: initialFormValidity\r\n    });\r\n\r\n    const inputHandler = useCallback((id, value, isValid) => {\r\n        dispatch({\r\n            type: \"INPUT_CHANGE\",\r\n            value: value,\r\n            isValid: isValid,\r\n            inputId: id\r\n        });\r\n    }, []);\r\n\r\n    const setFormData = useCallback((inputData, formValidity) => {\r\n        dispatch({\r\n            type: \"SET_DATA\",\r\n            inputs: inputData,\r\n            formIsValid: formValidity\r\n        });\r\n    }, []);\r\n\r\n    return [formState, inputHandler, setFormData];\r\n};\r\n","import { createContext } from \"react\";\r\n\r\nexport const AuthContext = createContext({\r\n    isLoggedIn: false,\r\n    isAdmin: false,\r\n    isAppBarDisplayed: true,\r\n    isSlub: false,\r\n    isSesjaNarzeczenska: false,\r\n    isSesjaSlubna: false,\r\n    isSesjaOkolicznosciowa: false,\r\n    name: null,\r\n    userId: null,\r\n    token: null,\r\n    login: () => {},\r\n    logout: () => {},\r\n    showAppBar: () => {},\r\n    hideAppBar: () => {},\r\n    setNavigateToFalse: () => {}\r\n});\r\n","import React, { useContext } from \"react\";\r\nimport Input from \"../../shared/components/FormElements/Input\";\r\nimport ErrorModal from \"../../shared/components/UIElements/ErrorModal\";\r\nimport { VALIDATOR_REQUIRE } from \"../../shared/util/validators\";\r\nimport { useForm } from \"../../shared/hooks/form-hook\";\r\nimport { useHttpClient } from \"../../shared/hooks/http-hook\";\r\nimport { AuthContext } from \"../../shared/context/auth-context\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Backdrop from \"@material-ui/core/Backdrop\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport FacebookIcon from \"@material-ui/icons/Facebook\";\r\nimport InstagramIcon from \"@material-ui/icons/Instagram\";\r\n\r\nconst LoginComponent = () => {\r\n    const auth = useContext(AuthContext);\r\n    const { isLoading, error, sendRequest, clearError } = useHttpClient();\r\n    const [formState, inputHandler] = useForm(\r\n        {\r\n            login: {\r\n                value: \"\",\r\n                isValid: false\r\n            }\r\n        },\r\n        false\r\n    );\r\n\r\n    const loginSubmitHandler = async event => {\r\n        event.preventDefault();\r\n        try {\r\n            const responseData = await sendRequest(\r\n                \"/users/login\",\r\n                {\r\n                    login: formState.inputs.login.value.trim()\r\n                },\r\n                \"POST\"\r\n            );\r\n            auth.login(\r\n                responseData.userId,\r\n                responseData.isAdmin,\r\n                responseData.token,\r\n                responseData.name,\r\n                responseData.isSlub,\r\n                responseData.isSesjaNarzeczenska,\r\n                responseData.isSesjaSlubna,\r\n                responseData.isSesjaOkolicznosciowa,\r\n                responseData.welcomeURL\r\n            );\r\n        } catch (err) {}\r\n    };\r\n\r\n    const useStyles = makeStyles(theme => ({\r\n        backdrop: {\r\n            zIndex: theme.zIndex.drawer + 1,\r\n            color: \"#fff\"\r\n        },\r\n        paper: {\r\n            padding: theme.spacing(3),\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            alignItems: \"center\",\r\n            background: \"rgba(0, 0, 0, 1)\"\r\n        },\r\n        avatar: {\r\n            margin: theme.spacing(1, 0, 3, 0),\r\n            width: \"100px\"\r\n        },\r\n        input: {\r\n            width: \"100%\"\r\n        },\r\n        submit: {\r\n            width: \"100%\",\r\n            margin: theme.spacing(3, 0, 0, 0),\r\n            padding: theme.spacing(1.2, 2.3, 1, 2.3)\r\n        },\r\n        copyrightsTop: {\r\n            padding: theme.spacing(4, 0, 2, 0),\r\n            width: \"100%\",\r\n            textAlign: \"center\"\r\n        },\r\n        copyrightsBottom: {\r\n            width: \"100%\",\r\n            textAlign: \"center\"\r\n        },\r\n        space: {\r\n            padding: theme.spacing(0, 0, 1, 0)\r\n        }\r\n    }));\r\n\r\n    const classes = useStyles();\r\n    if (isLoading) {\r\n        return (\r\n            <Backdrop className={classes.backdrop} open={true}>\r\n                <CircularProgress color=\"inherit\" />\r\n            </Backdrop>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <Container>\r\n            <Container maxWidth=\"xs\">\r\n                <ErrorModal error={error} onClear={clearError} />\r\n                <Paper className={classes.paper}>\r\n                    <Link color=\"inherit\" href=\"https://99foto.pl/\" target=\"_blank\">\r\n                        <img src=\"https://sk99foto.s3.eu-west-3.amazonaws.com/logo/99foto_logo.svg\" className={classes.avatar} alt=\"\" />{\" \"}\r\n                    </Link>\r\n                    <Typography component=\"h1\" variant=\"button\" className={classes.space}>\r\n                        LOGOWANIE DO STREFY KLIENTA\r\n                    </Typography>\r\n                    <form onSubmit={loginSubmitHandler} noValidate>\r\n                        <Input\r\n                            element=\"input\"\r\n                            id=\"login\"\r\n                            margin=\"normal\"\r\n                            className={classes.input}\r\n                            required={true}\r\n                            type=\"text\"\r\n                            variant=\"outlined\"\r\n                            color=\"primary\"\r\n                            label=\"Twoje haso\"\r\n                            validators={[VALIDATOR_REQUIRE()]}\r\n                            errorText=\"Twoje haso jest polem wymaganym.\"\r\n                            onInput={inputHandler}\r\n                            initialValue={formState.inputs.login.value}\r\n                            initialValid={formState.inputs.login.isValid}\r\n                        />\r\n                        <Button type=\"submit\" disabled={!formState.isValid} variant=\"contained\" color=\"primary\" size=\"large\" className={classes.submit}>\r\n                            LOGOWANIE\r\n                        </Button>\r\n                    </form>\r\n                    <Container className={classes.copyrightsTop}>\r\n                        <Typography variant=\"button\">{\"OBSERWUJ MNIE\"}</Typography>\r\n                    </Container>\r\n                    <Container className={classes.copyrightsBottom}>\r\n                        <Typography variant=\"button\">\r\n                            <Link color=\"inherit\" href=\"https://www.facebook.com/99foto\" target=\"_blank\">\r\n                                <FacebookIcon fontSize={\"large\"} />\r\n                            </Link>\r\n                            {\"  \"}\r\n                            <Link color=\"inherit\" href=\"https://www.instagram.com/99foto.pl/\" target=\"_blank\">\r\n                                <InstagramIcon fontSize={\"large\"} />\r\n                            </Link>\r\n                        </Typography>\r\n                    </Container>\r\n                </Paper>\r\n            </Container>\r\n        </Container>\r\n    );\r\n};\r\nexport default LoginComponent;\r\n","import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Backdrop from \"@material-ui/core/Backdrop\";\r\nimport LoginComponent from \"../components/LoginComponent\";\r\n\r\nconst Login = props => {\r\n    const useStyles = makeStyles(theme => ({\r\n        backdrop: {\r\n            zIndex: theme.zIndex.drawer + 100\r\n        }\r\n    }));\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <Backdrop invisible={true} className={classes.backdrop} open={true}>\r\n            <LoginComponent />\r\n        </Backdrop>\r\n    );\r\n};\r\n\r\nexport default Login;\r\n","import React, { useEffect, useReducer, useState, useRef, useCallback, useContext } from \"react\";\r\nimport Gallery from \"react-photo-gallery\";\r\nimport ScrollUpButton from \"react-scroll-up-button\";\r\nimport Lightbox from \"react-image-lightbox\";\r\nimport \"react-image-lightbox/style.css\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { AuthContext } from \"../../shared/context/auth-context\";\r\n\r\nlet perPage = 20;\r\n\r\nconst columns = containerWidth => {\r\n    let columns = 1;\r\n    if (containerWidth >= 500) columns = 2;\r\n    if (containerWidth >= 900) columns = 3;\r\n    if (containerWidth >= 1500) columns = 4;\r\n    return columns;\r\n};\r\n\r\nconst reducer = (state, action) => {\r\n    switch (action.type) {\r\n        case \"start\":\r\n            return { ...state, loading: false, images: action.allPhotos.slice(0, perPage), finish: false, after: perPage };\r\n        case \"loaded\":\r\n            return {\r\n                ...state,\r\n                loading: false,\r\n                images: [...state.images, ...action.newImages],\r\n                after: state.after + action.newImages.length,\r\n                currentImage: 0,\r\n                viewerIsOpen: false,\r\n                finish: state.after + action.newImages.length === action.allPhotosLength\r\n            };\r\n        case \"lightboxOpen\":\r\n            return { ...state, currentImage: action.index, viewerIsOpen: true };\r\n        case \"lightboxMoveNext\":\r\n            return { ...state, currentImage: action.index, viewerIsOpen: true };\r\n        case \"lightboxMovePrevious\":\r\n            return { ...state, currentImage: action.index, viewerIsOpen: true };\r\n        case \"lightboxClosed\":\r\n            return { ...state, currentImage: 0, viewerIsOpen: false };\r\n        default:\r\n            throw new Error(\"Error\");\r\n    }\r\n};\r\n\r\nconst ImageGallery = props => {\r\n    const { allPhotos } = props;\r\n    const auth = useContext(AuthContext);\r\n    const [state, dispatch] = useReducer(reducer, {\r\n        loading: false,\r\n        images: allPhotos.slice(0, perPage),\r\n        finish: false,\r\n        after: perPage\r\n    });\r\n    const { loading, images, after, finish, currentImage, viewerIsOpen } = state;\r\n\r\n    useEffect(() => {\r\n        dispatch({ type: \"start\", allPhotos });\r\n    }, [allPhotos]);\r\n\r\n    const load = useCallback(() => {\r\n        const newImages = allPhotos.slice(after, after + perPage);\r\n        const allPhotosLength = allPhotos.length;\r\n        dispatch({ type: \"loaded\", newImages, allPhotosLength });\r\n    }, [after, allPhotos]);\r\n\r\n    const openLightbox = useCallback(\r\n        (event, { index }) => {\r\n            auth.hideAppBar();\r\n            dispatch({ type: \"lightboxOpen\", index });\r\n        },\r\n        [auth]\r\n    );\r\n\r\n    const closeLightbox = () => {\r\n        auth.showAppBar();\r\n        dispatch({ type: \"lightboxClosed\" });\r\n    };\r\n\r\n    const moveNext = () => {\r\n        let index = (currentImage + 1) % allPhotos.length;\r\n        dispatch({ type: \"lightboxMoveNext\", index });\r\n    };\r\n\r\n    const movePrevious = () => {\r\n        let index = (currentImage + allPhotos.length - 1) % allPhotos.length;\r\n        dispatch({ type: \"lightboxMovePrevious\", index });\r\n    };\r\n\r\n    const loader = useRef(load);\r\n    useEffect(() => {\r\n        loader.current = load;\r\n    }, [load]);\r\n\r\n    const observer = useRef(\r\n        new IntersectionObserver(\r\n            entries => {\r\n                const first = entries[0];\r\n                if (first.isIntersecting) {\r\n                    loader.current();\r\n                }\r\n            },\r\n            { threshhold: 1 }\r\n        )\r\n    );\r\n\r\n    const [element, setElement] = useState(null);\r\n\r\n    useEffect(() => {\r\n        const currentElement = element;\r\n        const currentObserver = observer.current;\r\n        if (currentElement) {\r\n            currentObserver.observe(currentElement);\r\n        }\r\n        return () => {\r\n            if (currentElement) {\r\n                currentObserver.unobserve(currentElement);\r\n            }\r\n        };\r\n    }, [element]);\r\n\r\n    const useStyles = makeStyles(theme => ({\r\n        space: {\r\n            padding: theme.spacing(2, 0, 2, 0)\r\n        }\r\n    }));\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <div>\r\n            <ScrollUpButton style={{ width: 40 }} ToggledStyle={{ right: 20 }} />\r\n            <Gallery photos={images} direction={\"column\"} columns={columns} onClick={openLightbox} />\r\n            {viewerIsOpen && (\r\n                <Lightbox\r\n                    enableZoom={false}\r\n                    mainSrc={allPhotos[currentImage].src}\r\n                    nextSrc={allPhotos[(currentImage + 1) % images.length].src}\r\n                    prevSrc={allPhotos[(currentImage + allPhotos.length - 1) % allPhotos.length].src}\r\n                    onCloseRequest={closeLightbox}\r\n                    onMovePrevRequest={movePrevious}\r\n                    onMoveNextRequest={moveNext}\r\n                />\r\n            )}\r\n            {!loading && !finish && <div className={classes.space} ref={setElement} onClick={load}></div>}\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ImageGallery;\r\n","import React, { useEffect, useState, useRef, useContext } from \"react\";\r\nimport { Redirect, useParams } from \"react-router-dom\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { useHttpClient } from \"../../shared/hooks/http-hook\";\r\nimport Backdrop from \"@material-ui/core/Backdrop\";\r\nimport ImageGallery from \"../../images/components/ImageGallery\";\r\nimport LoginComponent from \"../components/LoginComponent\";\r\nimport { disableBodyScroll } from \"body-scroll-lock\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport { AuthContext } from \"../../shared/context/auth-context\";\r\n\r\nconst Welcome = props => {\r\n    const auth = useContext(AuthContext);\r\n    let welcomeURL = useParams().welcomeURL;\r\n    const { sendRequest, error } = useHttpClient();\r\n    const [loadedImages, setLoadedImages] = useState(false);\r\n    useEffect(() => {\r\n        setLoadedImages(false);\r\n    }, [welcomeURL]);\r\n\r\n    let targetElement = null;\r\n    const targetRef = useRef(targetElement);\r\n\r\n    useEffect(() => {\r\n        const getImages = async () => {\r\n            try {\r\n                const responseData = await sendRequest(\"/images/welcome/\" + welcomeURL + \"/welcome\", {}, \"GET\");\r\n                let newImages = responseData.images.map(image => {\r\n                    return {\r\n                        key: image.id,\r\n                        src: image.src,\r\n                        width: parseInt(image.width),\r\n                        height: parseInt(image.height)\r\n                    };\r\n                });\r\n                setLoadedImages(newImages);\r\n            } catch (err) {}\r\n        };\r\n        disableBodyScroll(targetElement);\r\n        getImages();\r\n    }, [welcomeURL, sendRequest, targetElement]);\r\n\r\n    const useStyles = makeStyles(theme => ({\r\n        backdrop: {\r\n            zIndex: theme.zIndex.drawer + 100\r\n        }\r\n    }));\r\n    const classes = useStyles();\r\n\r\n    if (error) {\r\n        auth.setNavigateToFalse();\r\n        return <Redirect to=\"/\" />;\r\n    }\r\n\r\n    if (!loadedImages) {\r\n        return (\r\n            <Backdrop className={classes.backdrop} open={true}>\r\n                <CircularProgress color=\"secondary\" />\r\n            </Backdrop>\r\n        );\r\n    }\r\n    return (\r\n        <React.Fragment>\r\n            <Backdrop invisible={true} className={classes.backdrop} open={true}>\r\n                <LoginComponent />\r\n            </Backdrop>\r\n            {loadedImages && <ImageGallery forwardRef={targetRef} allPhotos={loadedImages} />}\r\n        </React.Fragment>\r\n    );\r\n};\r\n\r\nexport default Welcome;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Redirect, useParams } from \"react-router-dom\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { useHttpClient } from \"../../shared/hooks/http-hook\";\r\nimport Backdrop from \"@material-ui/core/Backdrop\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport ImageGallery from \"../components/ImageGallery\";\r\nimport { clearAllBodyScrollLocks } from \"body-scroll-lock\";\r\n\r\nconst UserImages = (props) => {\r\n    let userid = useParams().userid;\r\n    let category = useParams().category;\r\n    const { userId, isSlub, isSesjaNarzeczenska, isSesjaOkolicznosciowa } = props;\r\n\r\n    if (typeof userid === \"undefined\" || userid == null) {\r\n        userid = userId;\r\n    }\r\n\r\n    if (!category) {\r\n        category = \"slub\";\r\n        if (!isSlub && isSesjaNarzeczenska) {\r\n            category = \"sesja_narzeczenska\";\r\n        }\r\n        if (!isSlub && isSesjaOkolicznosciowa) {\r\n            category = \"sesja_okolicznosciowa\";\r\n        }\r\n    }\r\n\r\n    const { sendRequest, error } = useHttpClient();\r\n    const [loadedImages, setLoadedImages] = useState(false);\r\n    useEffect(() => {\r\n        setLoadedImages(false);\r\n        clearAllBodyScrollLocks();\r\n    }, [category]);\r\n\r\n    useEffect(() => {\r\n        const getImages = async () => {\r\n            try {\r\n                const responseData = await sendRequest(\"/images/user/\" + userid + \"/\" + category, {}, \"GET\");\r\n                let newImages = responseData.images.map((image) => {\r\n                    return {\r\n                        key: image.id,\r\n                        src: image.src,\r\n                        width: parseInt(image.width),\r\n                        height: parseInt(image.height),\r\n                    };\r\n                });\r\n                setLoadedImages(newImages);\r\n            } catch (err) {}\r\n        };\r\n        getImages();\r\n    }, [userid, category, sendRequest]);\r\n\r\n    const useStyles = makeStyles((theme) => ({\r\n        backdrop: {\r\n            zIndex: theme.zIndex.drawer + 100,\r\n            color: \"#fff\",\r\n        },\r\n    }));\r\n    const classes = useStyles();\r\n\r\n    if (error) {\r\n        return <Redirect to=\"/\" />;\r\n    }\r\n\r\n    if (!loadedImages) {\r\n        return (\r\n            <Backdrop className={classes.backdrop} open={true}>\r\n                <CircularProgress color=\"secondary\" />\r\n            </Backdrop>\r\n        );\r\n    }\r\n    return <React.Fragment>{loadedImages && <ImageGallery allPhotos={loadedImages} />}</React.Fragment>;\r\n};\r\n\r\nexport default UserImages;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Input from \"../../shared/components/FormElements/Input\";\r\nimport ErrorModal from \"../../shared/components/UIElements/ErrorModal\";\r\nimport { VALIDATOR_REQUIRE } from \"../../shared/util/validators\";\r\nimport { useForm } from \"../../shared/hooks/form-hook\";\r\nimport { useHttpClient } from \"../../shared/hooks/http-hook\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Backdrop from \"@material-ui/core/Backdrop\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nconst Signup = () => {\r\n    const { sendRequest, error, clearError } = useHttpClient();\r\n    const history = useHistory();\r\n    const [isUpdateModeLoading, setUpdateModeLoading] = useState(true);\r\n\r\n    const [formState, inputHandler, setFormData] = useForm(\r\n        {\r\n            name: {\r\n                value: \"\",\r\n                isValid: false\r\n            },\r\n            welcomeURL: {\r\n                value: \"\",\r\n                isValid: false\r\n            },\r\n            creationDate: {\r\n                value: \"\",\r\n                isValid: false\r\n            },\r\n            login: {\r\n                value: \"\",\r\n                isValid: false\r\n            }\r\n        },\r\n        false\r\n    );\r\n\r\n    useEffect(() => {\r\n        setFormData(\r\n            {\r\n                name: {\r\n                    value: \"\",\r\n                    isValid: false\r\n                },\r\n                welcomeURL: {\r\n                    value: \"\",\r\n                    isValid: false\r\n                },\r\n                creationDate: {\r\n                    value: \"\",\r\n                    isValid: false\r\n                },\r\n                login: {\r\n                    value: \"\",\r\n                    isValid: false\r\n                }\r\n            },\r\n            false\r\n        );\r\n        setUpdateModeLoading(false);\r\n    }, [setFormData]);\r\n\r\n    const signupSubmitHandler = async event => {\r\n        event.preventDefault();\r\n        try {\r\n            await sendRequest(\r\n                \"/users/signup\",\r\n                {\r\n                    name: formState.inputs.name.value,\r\n                    welcomeURL: formState.inputs.welcomeURL.value,\r\n                    creationDate: formState.inputs.creationDate.value,\r\n                    login: formState.inputs.login.value\r\n                },\r\n                \"POST\"\r\n            );\r\n            history.push(\"/\");\r\n        } catch (err) {}\r\n    };\r\n\r\n    const useStyles = makeStyles(theme => ({\r\n        container: {\r\n            padding: theme.spacing(15, 0, 4, 0)\r\n        },\r\n        backdrop: {\r\n            zIndex: theme.zIndex.drawer + 1,\r\n            color: \"#fff\"\r\n        },\r\n        paper: {\r\n            padding: theme.spacing(3),\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            textAlign: \"center\",\r\n            background: \"rgba(0, 0, 0, 1)\"\r\n        },\r\n        input: {\r\n            width: \"100%\"\r\n        },\r\n        submit: {\r\n            width: \"100%\",\r\n            margin: theme.spacing(3, 0, 0, 0),\r\n            padding: theme.spacing(1.2, 2.3, 1, 2.3)\r\n        }\r\n    }));\r\n\r\n    const classes = useStyles();\r\n\r\n    if (isUpdateModeLoading) {\r\n        return (\r\n            <Backdrop className={classes.backdrop} open={true}>\r\n                <CircularProgress color=\"inherit\" />\r\n            </Backdrop>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <Container className={classes.container}>\r\n            <Container maxWidth=\"xs\">\r\n                <ErrorModal error={error} onClear={clearError} />\r\n                <Paper elevation={1} className={classes.paper}>\r\n                    <Typography component=\"h1\" variant=\"button\">\r\n                        SIGNUP FORM\r\n                    </Typography>\r\n                    <form onSubmit={signupSubmitHandler} noValidate>\r\n                        <Input\r\n                            element=\"input\"\r\n                            id=\"name\"\r\n                            margin=\"normal\"\r\n                            className={classes.input}\r\n                            required={true}\r\n                            type=\"text\"\r\n                            variant=\"outlined\"\r\n                            color=\"primary\"\r\n                            label=\"MARTA i MICHA\"\r\n                            validators={[VALIDATOR_REQUIRE()]}\r\n                            errorText=\"Please enter a Name.\"\r\n                            onInput={inputHandler}\r\n                            initialValue={formState.inputs.name.value}\r\n                            initialValid={formState.inputs.name.isValid}\r\n                        />\r\n                        <Input\r\n                            element=\"input\"\r\n                            id=\"welcomeURL\"\r\n                            margin=\"normal\"\r\n                            className={classes.input}\r\n                            required={true}\r\n                            type=\"text\"\r\n                            variant=\"outlined\"\r\n                            color=\"primary\"\r\n                            label=\"martamichal\"\r\n                            validators={[VALIDATOR_REQUIRE()]}\r\n                            errorText=\"Please enter a welcome URL.\"\r\n                            onInput={inputHandler}\r\n                            initialValue={formState.inputs.welcomeURL.value}\r\n                            initialValid={formState.inputs.welcomeURL.isValid}\r\n                        />\r\n                        <Input\r\n                            element=\"input\"\r\n                            id=\"creationDate\"\r\n                            margin=\"normal\"\r\n                            className={classes.input}\r\n                            required={true}\r\n                            type=\"text\"\r\n                            variant=\"outlined\"\r\n                            color=\"primary\"\r\n                            label=\"2020-02-25\"\r\n                            validators={[VALIDATOR_REQUIRE()]}\r\n                            errorText=\"Please enter a creation Date.\"\r\n                            onInput={inputHandler}\r\n                            initialValue={formState.inputs.creationDate.value}\r\n                            initialValid={formState.inputs.creationDate.isValid}\r\n                        />\r\n                        <Input\r\n                            element=\"input\"\r\n                            id=\"login\"\r\n                            margin=\"normal\"\r\n                            className={classes.input}\r\n                            required={true}\r\n                            type=\"text\"\r\n                            variant=\"outlined\"\r\n                            color=\"primary\"\r\n                            label=\"marta&micha\"\r\n                            validators={[VALIDATOR_REQUIRE()]}\r\n                            errorText=\"Please enter a Login.\"\r\n                            onInput={inputHandler}\r\n                            initialValue={formState.inputs.login.value}\r\n                            initialValid={formState.inputs.login.isValid}\r\n                        />\r\n                        <Button type=\"submit\" disabled={!formState.isValid} variant=\"contained\" color=\"primary\" className={classes.submit}>\r\n                            SIGNUP\r\n                        </Button>\r\n                    </form>\r\n                </Paper>\r\n            </Container>\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default Signup;\r\n","import React, { useRef, useState } from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\n\r\nconst ImageUpload = (props) => {\r\n    const [files, setFiles] = useState();\r\n    const [isValid, setIsValid] = useState(false);\r\n\r\n    const filePickerRef = useRef();\r\n\r\n    const pickedHandler = (event) => {\r\n        let pickedFiles;\r\n        let filesAreValid = isValid;\r\n        if (event.target.files && event.target.files.length > 0) {\r\n            pickedFiles = event.target.files;\r\n            setFiles(pickedFiles);\r\n            setIsValid(true);\r\n            filesAreValid = true;\r\n        } else {\r\n            setIsValid(false);\r\n            filesAreValid = false;\r\n        }\r\n        props.onInput(props.id, pickedFiles, filesAreValid, files);\r\n    };\r\n\r\n    const pickImageHandler = () => {\r\n        filePickerRef.current.click();\r\n    };\r\n\r\n    const useStyles = makeStyles((theme) => ({\r\n        margin: {\r\n            margin: theme.spacing(2),\r\n        },\r\n    }));\r\n\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <FormControl className={classes.margin}>\r\n            <input id={props.id} ref={filePickerRef} style={{ display: \"none\" }} type=\"file\" multiple accept=\".jpg,.png,.jpeg\" onChange={pickedHandler} />\r\n            <Button type=\"button\" onClick={pickImageHandler} variant=\"contained\" color=\"primary\">\r\n                PICK IMAGES\r\n            </Button>\r\n            {!isValid && <p>{props.errorText}</p>}\r\n        </FormControl>\r\n    );\r\n};\r\n\r\nexport default ImageUpload;\r\n","import React, { useEffect, useState, useContext } from \"react\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport Input from \"../../shared/components/FormElements/Input\";\r\nimport ErrorModal from \"../../shared/components/UIElements/ErrorModal\";\r\nimport ImageUpload from \"../../shared/components/FormElements/ImageUpload\";\r\nimport { VALIDATOR_REQUIRE } from \"../../shared/util/validators\";\r\nimport { useForm } from \"../../shared/hooks/form-hook\";\r\nimport { useHttpClient } from \"../../shared/hooks/http-hook\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { AuthContext } from \"../../shared/context/auth-context\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Backdrop from \"@material-ui/core/Backdrop\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\n\r\nconst UploadImage = () => {\r\n    const auth = useContext(AuthContext);\r\n    const { sendRequest, isLoading, error, clearError } = useHttpClient();\r\n    const [loadedUsers, setLoadedUsers] = useState();\r\n    const [isUpdateModeLoading, setUpdateModeLoading] = useState(true);\r\n    const [uploadedFile, setUploadedFile] = useState(\"\");\r\n    const history = useHistory();\r\n\r\n    let userid = useParams().userid;\r\n    let category = useParams().category;\r\n\r\n    if (typeof userid === \"undefined\" || userid == null) {\r\n        userid = \"\";\r\n    }\r\n\r\n    if (!category) {\r\n        category = \"slub\";\r\n    }\r\n\r\n    const categories = [\r\n        {\r\n            id: \"welcome\",\r\n            name: \"WELCOME\",\r\n        },\r\n        {\r\n            id: \"sesja_narzeczenska\",\r\n            name: \"SESJA NARZECZESKA\",\r\n        },\r\n        {\r\n            id: \"slub\",\r\n            name: \"LUB\",\r\n        },\r\n        {\r\n            id: \"sesja_slubna\",\r\n            name: \"SESJA LUBNA\",\r\n        },\r\n        {\r\n            id: \"sesja_okolicznosciowa\",\r\n            name: \"SESJA OKOLICZNOCIOWA\",\r\n        },\r\n    ];\r\n\r\n    const [formState, inputHandler, setFormData] = useForm(\r\n        {\r\n            user: {\r\n                value: \"\",\r\n                isValid: false,\r\n            },\r\n            category: {\r\n                value: \"\",\r\n                isValid: false,\r\n            },\r\n            folder: {\r\n                value: \"\",\r\n                isValid: false,\r\n            },\r\n            images: {\r\n                value: [],\r\n                isValid: false,\r\n            },\r\n        },\r\n        false\r\n    );\r\n\r\n    useEffect(() => {\r\n        const getUsers = async () => {\r\n            try {\r\n                const responseData = await sendRequest(\"/users/\", {}, \"GET\");\r\n                setLoadedUsers(responseData.users);\r\n            } catch (err) {}\r\n        };\r\n        getUsers();\r\n        setFormData(\r\n            {\r\n                user: {\r\n                    value: userid,\r\n                    isValid: true,\r\n                },\r\n                category: {\r\n                    value: category,\r\n                    isValid: true,\r\n                },\r\n                folder: {\r\n                    value: \"\",\r\n                    isValid: true,\r\n                },\r\n                images: {\r\n                    value: [],\r\n                    isValid: false,\r\n                },\r\n            },\r\n            true\r\n        );\r\n        setUpdateModeLoading(false);\r\n    }, [sendRequest, setFormData, userid, category]);\r\n\r\n    const uploadImageSubmitHandler = async (event) => {\r\n        event.preventDefault();\r\n        var formData = new FormData();\r\n        formData.append(\"userId\", formState.inputs.user.value);\r\n        formData.append(\"category\", formState.inputs.category.value);\r\n        formData.append(\"folder\", formState.inputs.folder.value);\r\n        for (const key of Object.keys(formState.inputs.images.value)) {\r\n            formData.set(\"images\", formState.inputs.images.value[key]);\r\n            try {\r\n                let response = await sendRequest(\"/uploads/upload\", formData, \"POST\", {\r\n                    Authorization: \"Bearer \" + auth.token,\r\n                    Accept: \"application/json\",\r\n                    \"Content-Type\": \"application/json;charset=UTF-8\",\r\n                });\r\n                setUploadedFile(response.response[0].imgSrc);\r\n            } catch (err) {}\r\n        }\r\n        history.push(\"/\");\r\n    };\r\n\r\n    const useStyles = makeStyles((theme) => ({\r\n        container: {\r\n            padding: theme.spacing(15, 0, 4, 0),\r\n        },\r\n        space: {\r\n            padding: theme.spacing(2),\r\n        },\r\n        backdrop: {\r\n            zIndex: theme.zIndex.drawer + 1,\r\n            color: \"#fff\",\r\n        },\r\n        paper: {\r\n            padding: theme.spacing(3),\r\n            display: \"flex\",\r\n            flexDirection: \"column\",\r\n            textAlign: \"center\",\r\n            background: \"rgba(0, 0, 0, 1)\",\r\n        },\r\n        input: {\r\n            width: \"100%\",\r\n        },\r\n        margin: {\r\n            padding: theme.spacing(2),\r\n        },\r\n    }));\r\n\r\n    const classes = useStyles();\r\n\r\n    if (isUpdateModeLoading || isLoading) {\r\n        return (\r\n            <Backdrop className={classes.backdrop} open={true}>\r\n                <Paper className={classes.paper} variant=\"outlined\">\r\n                    {uploadedFile}\r\n                </Paper>\r\n            </Backdrop>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <Container className={classes.container}>\r\n            <Container maxWidth=\"xs\">\r\n                <ErrorModal error={error} onClear={clearError} />\r\n                <Paper elevation={1} className={classes.paper}>\r\n                    <Typography component=\"h1\" variant=\"button\" className={classes.space}>\r\n                        UPLOAD IMAGES\r\n                    </Typography>\r\n                    <form onSubmit={uploadImageSubmitHandler} noValidate>\r\n                        {!isLoading && loadedUsers && (\r\n                            <FormControl className={classes.margin}>\r\n                                <Input\r\n                                    element=\"select\"\r\n                                    id=\"user\"\r\n                                    type=\"text\"\r\n                                    variant=\"outlined\"\r\n                                    color=\"primary\"\r\n                                    className={classes.input}\r\n                                    label=\"User name\"\r\n                                    data={loadedUsers}\r\n                                    validators={[VALIDATOR_REQUIRE()]}\r\n                                    errorText=\"Please enter a valid user name.\"\r\n                                    onInput={inputHandler}\r\n                                    initialValue={formState.inputs.user.value}\r\n                                    initialValid={formState.inputs.user.isValid}\r\n                                />\r\n                            </FormControl>\r\n                        )}\r\n                        <br />\r\n                        <FormControl className={classes.margin}>\r\n                            <Input\r\n                                element=\"select\"\r\n                                id=\"category\"\r\n                                type=\"text\"\r\n                                variant=\"outlined\"\r\n                                color=\"primary\"\r\n                                className={classes.input}\r\n                                label=\"Category\"\r\n                                data={categories}\r\n                                validators={[VALIDATOR_REQUIRE()]}\r\n                                errorText=\"Please enter a valid category name.\"\r\n                                onInput={inputHandler}\r\n                                initialValue={formState.inputs.category.value}\r\n                                initialValid={formState.inputs.category.isValid}\r\n                            />\r\n                        </FormControl>\r\n                        <Input\r\n                            element=\"input\"\r\n                            id=\"folder\"\r\n                            type=\"text\"\r\n                            variant=\"outlined\"\r\n                            margin=\"normal\"\r\n                            color=\"primary\"\r\n                            className={classes.input}\r\n                            label=\"S3 folder name (2020_01_29)\"\r\n                            validators={[VALIDATOR_REQUIRE()]}\r\n                            errorText=\"Please enter a valid s3 folder name.\"\r\n                            onInput={inputHandler}\r\n                            initialValue={formState.inputs.folder.value}\r\n                            initialValid={formState.inputs.folder.isValid}\r\n                        />\r\n\r\n                        <ImageUpload center id=\"images\" onInput={inputHandler} />\r\n                        <FormControl className={classes.margin}>\r\n                            <Button type=\"submit\" disabled={!formState.isValid} variant=\"contained\" color=\"primary\">\r\n                                UPLOAD\r\n                            </Button>\r\n                        </FormControl>\r\n                    </form>\r\n                </Paper>\r\n            </Container>\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default UploadImage;\r\n","import React, { useState } from \"react\";\r\nimport { NavLink } from \"react-router-dom\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport clsx from \"clsx\";\r\nimport Toolbar from \"@material-ui/core/Toolbar\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport ChevronRightIcon from \"@material-ui/icons/ChevronRight\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport List from \"@material-ui/core/List\";\r\nimport Drawer from \"@material-ui/core/Drawer\";\r\nimport AppBar from \"@material-ui/core/AppBar\";\r\nimport Link from \"@material-ui/core/Link\";\r\n\r\nconst Navigation = (props) => {\r\n    const [drawerOpen, setDrawerOpen] = useState(false);\r\n    const { token, isAdmin, logout, userId, name, isSlub, isSesjaNarzeczenska, isSesjaSlubna, isSesjaOkolicznosciowa } = props;\r\n\r\n    const handleDrawerOpen = () => {\r\n        setDrawerOpen(true);\r\n    };\r\n    const handleDrawerClose = () => {\r\n        setDrawerOpen(false);\r\n    };\r\n    const handleDrawerCloseAndLogout = () => {\r\n        setDrawerOpen(false);\r\n        logout();\r\n    };\r\n    const useStyles = makeStyles((theme) => ({\r\n        title: {\r\n            flexGrow: 1,\r\n        },\r\n        hide: {\r\n            display: \"none\",\r\n        },\r\n        drawer: {\r\n            flexShrink: 0,\r\n        },\r\n        appBar: {\r\n            backgroundColor: \"#111\",\r\n        },\r\n        drawerPaper: {\r\n            backgroundColor: \"#111\",\r\n        },\r\n        link: {\r\n            color: \"#FFF\",\r\n        },\r\n        drawerHeader: {\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            padding: theme.spacing(0, 1),\r\n            ...theme.mixins.toolbar,\r\n            justifyContent: \"flex-start\",\r\n        },\r\n    }));\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <React.Fragment>\r\n            <AppBar position=\"relative\" className={clsx(classes.appBar)}>\r\n                <Toolbar>\r\n                    <Typography variant=\"h6\" noWrap className={classes.title}>\r\n                        {isAdmin && (\r\n                            <Link variant=\"h6\" className={classes.link} component={NavLink} to={`/`}>\r\n                                ADMIN\r\n                            </Link>\r\n                        )}\r\n                        {!isAdmin && <React.Fragment>{name}</React.Fragment>}\r\n                    </Typography>\r\n                    <IconButton color=\"inherit\" aria-label=\"open drawer\" edge=\"end\" onClick={handleDrawerOpen} className={clsx(drawerOpen && classes.hide)}>\r\n                        <MenuIcon />\r\n                    </IconButton>\r\n                </Toolbar>\r\n            </AppBar>\r\n            <Drawer\r\n                className={classes.drawer}\r\n                variant=\"persistent\"\r\n                anchor=\"right\"\r\n                open={drawerOpen}\r\n                classes={{\r\n                    paper: classes.drawerPaper,\r\n                }}\r\n            >\r\n                <div className={classes.drawerHeader}>\r\n                    <IconButton onClick={handleDrawerClose}>\r\n                        <ChevronRightIcon />\r\n                    </IconButton>\r\n                </div>\r\n                <List>\r\n                    {token && !isAdmin && (\r\n                        <React.Fragment>\r\n                            {isSlub && (\r\n                                <ListItem button key=\"SLUB\" component={NavLink} to={`/images/${userId}/slub`} onClick={handleDrawerClose}>\r\n                                    <ListItemText primary=\" ZDJCIA LUBNE \" />\r\n                                </ListItem>\r\n                            )}\r\n                            {isSesjaNarzeczenska && (\r\n                                <ListItem button key=\"SESJA NARZECZESKA\" component={NavLink} to={`/images/${userId}/sesja_narzeczenska`} onClick={handleDrawerClose}>\r\n                                    <ListItemText primary=\" SESJA NARZECZESKA \" />\r\n                                </ListItem>\r\n                            )}\r\n                            {isSesjaSlubna && (\r\n                                <ListItem button key=\"SESJA SLUBNA\" component={NavLink} to={`/images/${userId}/sesja_slubna`} onClick={handleDrawerClose}>\r\n                                    <ListItemText primary=\" SESJA LUBNA \" />\r\n                                </ListItem>\r\n                            )}\r\n                            {isSesjaOkolicznosciowa && (\r\n                                <ListItem button key=\"SESJA OKOLICZNOCIOWA\" component={NavLink} to={`/images/${userId}/sesja_okolicznosciowa`} onClick={handleDrawerClose}>\r\n                                    <ListItemText primary=\" SESJA OKOLICZNOCIOWA \" />\r\n                                </ListItem>\r\n                            )}\r\n                        </React.Fragment>\r\n                    )}\r\n                    {!token && (\r\n                        <React.Fragment>\r\n                            <ListItem button key=\"LOGIN\" component={NavLink} to=\"/login\" onClick={handleDrawerClose}>\r\n                                <ListItemText primary=\" LOGIN \" />\r\n                            </ListItem>\r\n                            <ListItem button key=\"SIGNUP\" component={NavLink} to=\"/signup\" onClick={handleDrawerClose}>\r\n                                <ListItemText primary=\" SIGNUP \" />\r\n                            </ListItem>\r\n                        </React.Fragment>\r\n                    )}\r\n                    {token && isAdmin && (\r\n                        <React.Fragment>\r\n                            <ListItem button key=\"LIST OF USERS\" component={NavLink} to=\"/\">\r\n                                <ListItemText primary=\" LIST OF USERS \" onClick={handleDrawerClose} />\r\n                            </ListItem>\r\n                            <ListItem button key=\"ADD NEW USER\" component={NavLink} to=\"/signup\">\r\n                                <ListItemText primary=\" ADD NEW USER \" onClick={handleDrawerClose} />\r\n                            </ListItem>\r\n                            <ListItem button key=\"ADD USER IMAGES\" component={NavLink} to=\"/upload\">\r\n                                <ListItemText primary=\" ADD USER IMAGES \" onClick={handleDrawerClose} />\r\n                            </ListItem>\r\n                        </React.Fragment>\r\n                    )}\r\n                    {token && (\r\n                        <ListItem button key=\"WYLOGUJ\" component={NavLink} to=\"/logout\" onClick={handleDrawerCloseAndLogout}>\r\n                            <ListItemText primary=\" WYLOGUJ \" />\r\n                        </ListItem>\r\n                    )}\r\n                </List>\r\n            </Drawer>\r\n        </React.Fragment>\r\n    );\r\n};\r\n\r\nexport default Navigation;\r\n","import React, { useEffect } from \"react\";\r\n\r\nconst Logout = props => {\r\n    const { logout, setNavigateToFalse } = props;\r\n\r\n    useEffect(() => {\r\n        console.log(\"wer\");\r\n        logout();\r\n        setNavigateToFalse();\r\n    }, [logout, setNavigateToFalse]);\r\n\r\n    return <React.Fragment></React.Fragment>;\r\n};\r\n\r\nexport default Logout;\r\n","import React from \"react\";\r\nimport { BrowserRouter as Router, Route, Redirect, Switch } from \"react-router-dom\";\r\nimport Users from \"./user/pages/Users\";\r\nimport Login from \"./user/pages/Login\";\r\nimport Welcome from \"./user/pages/Welcome\";\r\nimport UserImages from \"./images/pages/UserImages\";\r\nimport Signup from \"./user/pages/Signup\";\r\nimport UploadImage from \"./upload_images/pages/UploadImage\";\r\nimport { AuthContext } from \"./shared/context/auth-context\";\r\nimport { useAuth } from \"./shared/hooks/auth-hook\";\r\nimport { createMuiTheme } from \"@material-ui/core/styles\";\r\nimport { ThemeProvider } from \"@material-ui/core/styles\";\r\nimport Navigation from \"./shared/components/UIElements/Navigation\";\r\nimport Logout from \"./shared/components/UIElements/Logout\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\n\r\nconst customVars = createMuiTheme({\r\n    palette: {\r\n        type: \"dark\",\r\n        primary: {\r\n            light: \"#64d8cb\",\r\n            main: \"#26a69a\",\r\n            dark: \"#00766c\",\r\n            contrastText: \"#fff\"\r\n        },\r\n        secondary: {\r\n            light: \"#a7c0cd\",\r\n            main: \"#78909c\",\r\n            dark: \"#4b636e\",\r\n            contrastText: \"#fff\"\r\n        },\r\n        error: {\r\n            light: \"#ff867c\",\r\n            main: \"#ef5350\",\r\n            dark: \"#b61827\",\r\n            contrastText: \"#fff\"\r\n        },\r\n        background: {\r\n            default: \"#000\"\r\n        }\r\n    }\r\n});\r\n\r\nconst App = () => {\r\n    const {\r\n        token,\r\n        login,\r\n        logout,\r\n        hideAppBar,\r\n        showAppBar,\r\n        setNavigateToFalse,\r\n        isAppBarDisplayed,\r\n        isNavigate,\r\n        userId,\r\n        name,\r\n        isAdmin,\r\n        isSlub,\r\n        isSesjaNarzeczenska,\r\n        isSesjaSlubna,\r\n        isSesjaOkolicznosciowa,\r\n        welcomeURL\r\n    } = useAuth();\r\n    let routes;\r\n    if (token && isAdmin) {\r\n        routes = (\r\n            <Switch>\r\n                <Route path=\"/\" exact>\r\n                    <Users />\r\n                </Route>\r\n                <Route path=\"/signup\" exact>\r\n                    <Signup />\r\n                </Route>\r\n                <Route path=\"/upload/:userid/:category\" exact>\r\n                    <UploadImage />\r\n                </Route>\r\n                <Route path=\"/upload\" exact>\r\n                    <UploadImage />\r\n                </Route>\r\n                <Route path=\"/images/:userid/:category\" exact>\r\n                    <UserImages />\r\n                </Route>\r\n                <Redirect to=\"/\" />\r\n            </Switch>\r\n        );\r\n    } else if (token && !isAdmin) {\r\n        routes = (\r\n            <Switch>\r\n                <Route path=\"/\" exact>\r\n                    <UserImages userId={userId} isSlub={isSlub} isSesjaNarzeczenska={isSesjaNarzeczenska} isSesjaOkolicznosciowa={isSesjaOkolicznosciowa} />\r\n                </Route>\r\n                {/*temporary redirections for weddings*/}\r\n                <Route path=\"/annapiotr\" exact>\r\n                    <Logout logout={logout} setNavigateToFalse={setNavigateToFalse} />\r\n                    <Redirect to={`/login`} push={true} />}\r\n                </Route>\r\n                <Route path=\"/izaarek\" exact>\r\n                    <Logout logout={logout} setNavigateToFalse={setNavigateToFalse} />\r\n                    <Redirect to={`/login`} push={true} />}\r\n                </Route>\r\n                <Route path=\"/dajanasylwester\" exact>\r\n                    <Logout logout={logout} setNavigateToFalse={setNavigateToFalse} />\r\n                    <Redirect to={`/login`} push={true} />}\r\n                </Route>\r\n                {/*temporary redirections for baptists*/}\r\n                <Route path=\"/karolina\" exact>\r\n                    <Logout logout={logout} setNavigateToFalse={setNavigateToFalse} />\r\n                    <Redirect to={`/login`} push={true} />}\r\n                </Route>\r\n                <Route path=\"/patryk\" exact>\r\n                    <Logout logout={logout} setNavigateToFalse={setNavigateToFalse} />\r\n                    <Redirect to={`/login`} push={true} />}\r\n                </Route>\r\n                <Route path=\"/filip\" exact>\r\n                    <Logout logout={logout} setNavigateToFalse={setNavigateToFalse} />\r\n                    <Redirect to={`/login`} push={true} />}\r\n                </Route>\r\n                <Route path=\"/alicja\" exact>\r\n                    <Logout logout={logout} setNavigateToFalse={setNavigateToFalse} />\r\n                    <Redirect to={`/login`} push={true} />}\r\n                </Route>\r\n                <Route path=\"/antosia\" exact>\r\n                    <Logout logout={logout} setNavigateToFalse={setNavigateToFalse} />\r\n                    <Redirect to={`/login`} push={true} />}\r\n                </Route>\r\n                <Route path=\"/amelia\" exact>\r\n                    <Logout logout={logout} setNavigateToFalse={setNavigateToFalse} />\r\n                    <Redirect to={`/login`} push={true} />}\r\n                </Route>\r\n                <Route path=\"/tymon\" exact>\r\n                    <Logout logout={logout} setNavigateToFalse={setNavigateToFalse} />\r\n                    <Redirect to={`/login`} push={true} />}\r\n                </Route>\r\n                <Route path=\"/images/:userid/:category\" exact>\r\n                    <UserImages isSlub={isSlub} />\r\n                </Route>\r\n                <Redirect to=\"/\" />\r\n            </Switch>\r\n        );\r\n    } else {\r\n        routes = (\r\n            <Switch>\r\n                <Route path=\"/\" exact>\r\n                    {isNavigate && !isAdmin && <Redirect to={`/login/${welcomeURL}`} push={true} />}\r\n                    <Login />\r\n                </Route>\r\n                <Route path=\"/login/:welcomeURL\" exact>\r\n                    <Welcome />\r\n                </Route>\r\n                <Route path=\"/login\" exact>\r\n                    <Login />\r\n                </Route>\r\n                <Route path=\"/signup\">\r\n                    <Signup />\r\n                </Route>\r\n                {/*temporary redirections for weddings*/}\r\n                <Route path=\"/annapiotr\">\r\n                    <Logout logout={logout} setNavigateToFalse={setNavigateToFalse} />\r\n                    <Redirect to={`/login/annapiotr`} push={true} />\r\n                </Route>\r\n                <Route path=\"/izaarek\">\r\n                    <Logout logout={logout} setNavigateToFalse={setNavigateToFalse} />\r\n                    <Redirect to={`/login/izaarek`} push={true} />\r\n                </Route>\r\n                <Route path=\"/dajanasylwester\">\r\n                    <Logout logout={logout} setNavigateToFalse={setNavigateToFalse} />\r\n                    <Redirect to={`/login/dajanasylwester`} push={true} />\r\n                </Route>\r\n                {/*temporary redirections for baptists*/}\r\n                <Route path=\"/karolina\">\r\n                    <Logout logout={logout} setNavigateToFalse={setNavigateToFalse} />\r\n                    <Redirect to={`/login/karolina`} push={true} />\r\n                </Route>\r\n                <Route path=\"/patryk\">\r\n                    <Logout logout={logout} setNavigateToFalse={setNavigateToFalse} />\r\n                    <Redirect to={`/login/patryk`} push={true} />\r\n                </Route>\r\n                <Route path=\"/filip\">\r\n                    <Logout logout={logout} setNavigateToFalse={setNavigateToFalse} />\r\n                    <Redirect to={`/login/filip`} push={true} />\r\n                </Route>\r\n                <Route path=\"/alicja\">\r\n                    <Logout logout={logout} setNavigateToFalse={setNavigateToFalse} />\r\n                    <Redirect to={`/login/alicja`} push={true} />\r\n                </Route>\r\n                <Route path=\"/antosia\">\r\n                    <Logout logout={logout} setNavigateToFalse={setNavigateToFalse} />\r\n                    <Redirect to={`/login/antosia`} push={true} />\r\n                </Route>\r\n                <Route path=\"/amelia\">\r\n                    <Logout logout={logout} setNavigateToFalse={setNavigateToFalse} />\r\n                    <Redirect to={`/login/amelia`} push={true} />\r\n                </Route>\r\n                <Route path=\"/tymon\">\r\n                    <Logout logout={logout} setNavigateToFalse={setNavigateToFalse} />\r\n                    <Redirect to={`/login/tymon`} push={true} />\r\n                </Route>\r\n                <Redirect to=\"/\" />\r\n            </Switch>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <AuthContext.Provider\r\n            value={{\r\n                isLoggedIn: !!token,\r\n                isAdmin: isAdmin,\r\n                isAppBarDisplayed: isAppBarDisplayed,\r\n                isNavigate: isNavigate,\r\n                token: token,\r\n                userId: userId,\r\n                name: name,\r\n                login: login,\r\n                logout: logout,\r\n                showAppBar: showAppBar,\r\n                hideAppBar: hideAppBar,\r\n                setNavigateToFalse: setNavigateToFalse\r\n            }}\r\n        >\r\n            <ThemeProvider theme={customVars}>\r\n                <Router>\r\n                    <CssBaseline>\r\n                        {token && isAppBarDisplayed && (\r\n                            <Navigation\r\n                                token={token}\r\n                                isAdmin={isAdmin}\r\n                                logout={logout}\r\n                                userId={userId}\r\n                                name={name}\r\n                                isSlub={isSlub}\r\n                                isSesjaNarzeczenska={isSesjaNarzeczenska}\r\n                                isSesjaSlubna={isSesjaSlubna}\r\n                                isSesjaOkolicznosciowa={isSesjaOkolicznosciowa}\r\n                            />\r\n                        )}\r\n                        {routes}\r\n                    </CssBaseline>\r\n                </Router>\r\n            </ThemeProvider>\r\n        </AuthContext.Provider>\r\n    );\r\n};\r\nexport default App;\r\n","import \"react-app-polyfill/ie11\";\r\nimport \"react-app-polyfill/stable\";\r\nimport \"intersection-observer\";\r\nimport React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\n\r\nimport App from \"./App\";\r\nReactDOM.render(<App />, document.getElementById(\"root\"));\r\n"],"sourceRoot":""}